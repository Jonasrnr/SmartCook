<!DOCTYPE html>
<html lang="en">
{% load static %}

<head>
    <link rel="icon" href="{% static 'favicon.ico' %}">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}SmartCook{% endblock %}</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>
    <script src="{% static 'js/edit_recipe.js' %}"></script>
    <style>
        /*--HTMX Links clickable appearence--*/
        
        a[hx-post],
        a[hx-get],
        a[hx-put],
        a[hx-delete] {
            cursor: pointer;
        }
        
        a[hx-post]:hover,
        a[hx-get]:hover,
        a[hx-put]:hover,
        a[hx-delete]:hover {
            text-decoration: underline;
        }
        /*-----------------------------------*/
        /*----------Loading Overlay----------*/
        
        .htmx-indicator {
            opacity: 0;
            transition: opacity 200ms ease-in-out;
            pointer-events: none;
        }
        
        .htmx-request .htmx-indicator,
        .htmx-request.htmx-indicator {
            opacity: 1;
            pointer-events: auto;
        }
        /*-----------------------------------*/
    </style>
    <script>
        window.domReadyQueue = window.domReadyQueue || [];
        document.addEventListener('DOMContentLoaded', () => {
            window.domReadyQueue.forEach(fn => fn());
            window.domReadyQueue = [];
        });
    </script>
</head>

<body class="bg-gradient-to-tr from-cyan-400 via-purple-500 to-blue-700 min-h-screen text-gray-900" hx-indicator="#loading-overlay">
    <!-- Loading Overlay -->
    <div id="loading-overlay" class="htmx-indicator fixed inset-0 z-50 flex items-center justify-center bg-white/10 backdrop-blur-sm">
        <div class="flex flex-col items-center gap-4 ">
            <div class="w-12 h-12 border-4 border-gray-300 border-t-indigo-600 rounded-full animate-spin"></div>
            <span class="text-gray-700 font-medium text-lg">LÃ¤dt...</span>
        </div>
    </div>

    <div class="flex">
        <!--Sidebar-->
        {% include 'recipes/components/sidebar.html' %} {% include 'recipes/components/mobile_navigation.html' %}

        <!-- Main Content Wrapper -->
        <div id="content-wrapper" class="absolute top-0 right-0 bottom-0 left-0 lg:ml-20">
            <main class="w-full h-full overflow-y-auto" id="main-content">
                {% block content %}{% endblock %}
            </main>

        </div>
    </div>
    <div id="toast-notification" class="fixed top-5 right-5 bg-red-600 text-white py-3 px-6 rounded-lg shadow-xl transform translate-x-full transition-all duration-500 ease-in-out z-50 opacity-0 pointer-events-none">
        <p id="toast-message"></p>
    </div>
    <script type="module" src="{% static 'js/base.js' %}"></script>

    {% block scripts %}{% endblock %}
</body>

</html>